<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beats-Forgot Password</title>
      <link rel="stylesheet" href="/assets/user-style/forgotten.css" /> <!-- Link your CSS file -->
   
      <link
      rel="shortcut icon"
      type="image/x-icon"s
      href="assets/img/favicon.ico"
    />
</head>
<body>
         <!--? Preloader Start -->
 
  
  <div class="content">
<!-- Preloader End -->
    <div class="login-container">
        <div class="split-container">
            <!-- Left Side -->
            <div class="left-side">
                <div class="welcome-content">
                    <h2 class="welcome-heading">Reset Password</h2>
                    <p class="welcome-message">Enter your email address and we'll send you instructions to reset your password.</p>
                </div>
            </div>

            <!-- Right Side -->
            <div class="right-side">
                <div class="login-form">
                    <div class="form-header">
                        <h1>Forgot Password?</h1>
                        <h3>Don’t worry, we’ll help you recover it</h3>
                    </div>
                    <form id="resetPasswordForm" action="/resetPassword" method="POST" >
                        <div class="form-group">
                            
                            <input type="email" id="emailInput" name="email" class="form-control" placeholder="Enter your email" >
                             <div id="emailError" style="display: none;">Please enter a valid email address.</div>
                          </div>
                        <button type="submit" class="btn btn-primary">Send Reset Instructions</button>
                    </form>
                    <div class="forgot-password">
                        <a href="/login">Back to Login</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    <script src="/assets/js/preloader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<% if (locals.message && message.length > 0) { %>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        setTimeout(() => {
          Swal.fire({
            toast: true,
            position: "top",
            icon: "success",
            title: "<%= locals.message %>",
            showConfirmButton: false,
            timer: 5000,
            timerProgressBar: true,
            customClass: {
              popup: "custom-toast",
            },
          });
        }, 1000); // 1000ms = 1 second delay
      });
    </script>
<%}%>
    <script>
      const form=document.getElementById('resetPasswordForm');
      const email=document.getElementById('emailInput');
      const emailError=document.getElementById('emailError');


  function validateEmail(){
    
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; 

    if(!emailRegex.test(email.value)){
      emailError.style.display="block";
      return false;
    }
    else{
      emailError.style.display="none";
      return true;
    }
  }
  form.addEventListener("submit",function (event){
    if(!validateEmail()){
      event.preventDefault() //stop form submission
    }
  });
  email.addEventListener("input" ,function (){
    validateEmail();
  })
  
</script>





 
</body>
</html>

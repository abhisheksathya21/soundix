<%- include('../partials/user/header')%>
<link rel="stylesheet" href="/user-style/login.css">
  </body>
</html>

  
<main>
    <section class="login_part section_padding">
        <div class="container">
            <div class="row align-items-center">
                <!-- Left Side: Welcome Message -->
                <div class="col-lg-6 col-md-6">
                  <div class="welcome-section text-center" id="welcomeBox">
                    <div class="welcome-content">
                      <h2 class="welcome-heading">Already part of our audiophile community? </h2>
                      <p class="welcome-message">Dive into an immersive sound experience with our premium collection of headphones.</p>
                      
                    </div>
                  </div>
                </div>
                
               
                <!-- Right Side: Register Form -->
                <div class="col-lg-6 col-md-6">
    <div class="login_part_form" id="register_form">
        <div class="login_part_form_iner">
            <h3>Welcome! <br /> Please Login Now</h3>
            <form id="sign-form" class="row contact_form" action="/login" method="post" novalidate="novalidate">
                

                <!-- Email -->
                <div class="col-md-12 form-group p_star">
                    <input type="email" class="form-control" id="email" name="email" placeholder="Email Address" required />
                    <div id="error-2" class="error-message"></div>
                </div>

               
                <!-- Password -->
                <div class="col-md-12 form-group p_star">
                    <input type="password" class="form-control" id="password" name="password" placeholder="Password" required />
                    <div id="error-4" class="error-message"></div>
                </div>
                <%if(locals.message && message.length>0){%>
                  <div class="alert alert-primary text-center">
                     <span class="alert-icon">&#9888;</span>
                    <%=locals.message%>

                  </div>
                  
               <% }%>

            

                <!-- Submit Button -->
                <div class="col-md-12 form-group">
                    <button type="submit" class="btn_3">Sign in</button>
                </div>
                <div class="col-md-12 form-group">
                                  <a href="/signup"><h6>New to Our Audio World? Register Now</h6></a>

                </div>

                <!-- Sign Up with Google Button -->
                <div class="col-md-12 form-group text-center mt-3">
    <a href="/auth/google"><button type="button" class="btn btn-google" onclick="googleSignUp()">
        <i class="fab fa-google mr-2"></i> Sign Up with Google
    </button></a>
</div>
                
            </form>
        </div>
    </div>
</div>



            </div>
        </div>
    </section>
</main>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    setTimeout(() => {
  const preloader = document.getElementById("preloader-active");
  if (preloader) {
    preloader.style.display = "none";
  }
}, 2000); // Hides the preloader after 3 seconds

  });
</script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const signform = document.getElementById("sign-form");
        const nameid = document.getElementById("fullname");
        const emailid = document.getElementById("email");
        const phoneid = document.getElementById("phone");
        const passwordid = document.getElementById("password");
        const confirmid = document.getElementById("confirm_password");

        const error1 = document.getElementById("error-1");
        const error2 = document.getElementById("error-2");
        const error3 = document.getElementById("error-3");
        const error4 = document.getElementById("error-4");
        const error5 = document.getElementById("error-5");

        signform.addEventListener("submit", function (e) {
            nameValidatechecking();
            emailValidatecheking();
            phoneValidatecheking();
            passValidatecheking();

            // Prevent form submission if errors exist
            if (
                error1.style.display === 'block' ||
                error2.style.display === 'block' ||
                error3.style.display === 'block' ||
                error4.style.display === 'block' ||
                error5.style.display === 'block'
            ) {
                e.preventDefault();
            }
        });

        function nameValidatechecking() {
            const nameval = nameid.value.trim();
            const namepattern = /^[A-Za-z\s'-]{1,50}$/;
            if (nameval === "") {
                error1.style.display = 'block';
                error1.innerHTML = "Please enter a valid name.";
            } else if (!namepattern.test(nameval)) {
                error1.style.display = 'block';
                error1.innerHTML = "Name can only contain alphabets and spaces.";
            } else {
                error1.style.display = 'none';
                error1.innerHTML = "";
            }
        }

        function emailValidatecheking() {
            const emailval = emailid.value.trim();
            const emailpattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if (!emailpattern.test(emailval)) {
                error2.style.display = 'block';
                error2.innerHTML = "Invalid email format.";
            } else {
                error2.style.display = 'none';
                error2.innerHTML = "";
            }
        }

        function phoneValidatecheking() {
            const phoneval = phoneid.value.trim();
            const phonepattern = /^\d{10}$/;
            if (phoneval === "") {
                error3.style.display = 'block';
                error3.innerHTML = "Please enter a valid number.";
            } else if (!phonepattern.test(phoneval)) {
                error3.style.display = 'block';
                error3.innerHTML = "Enter a 10-digit phone number.";
            } else {
                error3.style.display = 'none';
                error3.innerHTML = "";
            }
        }

        function passValidatecheking() {
            const passval = passwordid.value.trim();
            const current = confirmid.value.trim();
            const passpattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
            if (passval === "") {
                error4.style.display = 'block';
                error4.innerHTML = "Password should contain at least 8 characters.";
            } else if (!passpattern.test(passval)) {
                error4.style.display = 'block';
                error4.innerHTML = "Password must contain numbers, uppercase, lowercase, and special characters.";
            } else {
                error4.style.display = 'none';
                error4.innerHTML = "";
            }

            if (passval !== current) {
                error5.style.display = 'block';
                error5.innerHTML = "Passwords do not match.";
            } else {
                error5.style.display = 'none';
                error5.innerHTML = "";
            }
        }
    });
</script>

</body>
</html>
